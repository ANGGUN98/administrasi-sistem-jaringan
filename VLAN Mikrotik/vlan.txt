=== VLAN (Virtual Local Area Network) ===
Bisa digunakan oleh perangkat jaringan yang sudah manageable.
Fungsi VLAN:
1. Untuk mengelompokkan beberapa network pada satu switch yang sama. Kalau biasanya satu switch hanya dapat digunakan untuk jaringan yang satu subnet, 
   dengan VLAN kita bisa membuat beberapa network dalam satu VLAN.
2. Memuatkan beberapa link layer 2 / beberapa service pada sebuah link layer 1. Jika kita memiliki 1 link layer 1 atau 1 kabel, bagaimana caranya kita bisa memuatkan 
   beberapa service yang berbeda pada satu interface fisik tersebut.
Protokol VLAN : IEEE 802.1Q bisanya disebut .1Q = VLAN

Empat perbedaan setting VLAN:
1. Routerboard tanpa switch chip
2. Routerboard dengan switch chip
3. CRS (Cloud Router Switch)
4. CSS (Cloud Smart Switch)
Kita bisa memanagemen layer 2 itu di produk-produk yang menggunakan Router OS
Mikrotik Routerboard adalah device layer 3 (router) tapi bisa managemen layer 2

Fitur Routerboard untuk layer 2:
1. Switch Chipset (hardware)  : melewatkan traffic melalui hardware sehingga tidak membebani CPU.
2. Bridge tanpa switch chipset (software)


Konfigurasi VLAN di Routerboard menggunakan Switch Chipset (hardware):
Setting Router Utama (untuk remote konfigurasi gunakan port terakhir karena port 1 ada default config, biar kosong kita remove configuration)
Login Mikrotik: admin 
      Password: kosong
1. Ganti password
   system > Users > + (tambahkan user baru) > name: user > group: full > password: 123 > confirm password: 123 > apply > OK
   lalu admin kita matikan (disable) kemudian login lagi dengan user dan password yang sudah dibuat tadi
2. Beri nama untuk router 
   system > identity > Router Utama > Apply > OK
3. DHCP Client untuk Ether 1
   IP > DHCP Client > + > Interface: Ether1 > centang use peer DNS (Bila kita hendak menggunakan DNS server sesuai dengan informasi DHCP) 
                                            > centang use peer NTP (Bila kita hendak menggunakan informasi pengaturan waktu di router (NTP) sesuai dengan informasi dari DHCP)
                                            > Add default route: yes (Bila kita menginginkan default route kita mengarah sesuai dengan informasi DHCP)
   tunggu sampai status (bound) lalu cek IP nya di menu IP > Addresses
4. Ping dari terminal
   Ping 8.8.8.8
   Ping google.com
5. Supaya bisa mendistribusikan internet ke bawah
   IP > Firewall > NAT > chain: srcnat > out interface: ether1 > action: masquerade
6. Distribusi ke bawah menggunakan 2 VLAN 
   Interface > + > VLAN > name: VLAN100 > VLAN ID: 100 (1 = tanpa VLAN) > interface: ether2 (master/trunk)
   Interface > + > VLAN > name: VLAN200 > VLAN ID: 200 (1 = tanpa VLAN) > interface: ether2 (master/trunk)
7. Karena saya gunakan untuk gateway maka tambahkan IP
   IP > Addresses > + > address: 172.31.1.1/24 > interface: VLAN100
   IP > Addresses > + > address: 192.168.30.1/24 > interface: VLAN200
8. Tambahkan DHCP Server dikedua VLAN
   IP > DHCP Server > DHCP Setup > DHCP Server Interface: VLAN100
                                 > DHCP Address Space: 172.31.1.0/24 (network)
                                 > Gateway for DHCP Network: 172.31.1.1
                                 > Addresses to Give Out: 172.31.1.2-172.31.1.254 (pool)
                                 > DNS Servers: 10.10.10.1
                                 > Lease Time: 00:10:00 (setiap 10 menit refresh)

   IP > DHCP Server > DHCP Setup > DHCP Server Interface: VLAN200
                                 > DHCP Address Space: 192.168.30.0/24 (network)
                                 > Gateway for DHCP Network: 192.168.30.1
                                 > Addresses to Give Out: 192.168.30.2-192.168.30.254 (pool)
                                 > DNS Servers: 10.10.10.1
                                 > Lease Time: 00:10:00 (setiap 10 menit refresh)

Kalau bermain dengan VLAN, ada dua istilah:
1. VLAN TRUNKING / TAG
2  VLAN ACCESS / UNTAG

Komunikasi antara Router Utama dengan Router Distribusi melalui sebuah kabel yang membawa informasi lebih dari satu VLAN maka biasa disebut VLAN TRUNKING.
Lalu dari Router Distribusi yang terhubung ke laptop (ether2 dan 3) dinamakan VLAN ACCESS  > VLAN TAGGING dihilangkan sehingga nanti keluar seperti ethernet biasa, langsung bisa colok ke laptop 

Setting Router Utama





Referensi
https://app.diagrams.net/
https://www.youtube.com/watch?v=p92ClFkUMV0
https://www.youtube.com/watch?v=Cu_0XQO8MG0&t=1278s
https://www.youtube.com/watch?v=TjfDLEbhzWw
https://wiki.mikrotik.com/wiki/Manual:Basic_VLAN_switching
https://wiki.mikrotik.com/wiki/Manual:Interface/VLAN#Simple_VLAN_routing
